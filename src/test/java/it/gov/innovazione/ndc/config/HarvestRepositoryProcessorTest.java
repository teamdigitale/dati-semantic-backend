package it.gov.innovazione.ndc.config;

class HarvestRepositoryProcessorTest {

//    @Test
//    void shouldHarvestAllRepos() throws Exception {
//        RepositoryService repositoryService = mock(RepositoryService.class);
//        HarvesterRunService harvesterRunService = mock(HarvesterRunService.class);
//
//        when(harvesterRunService.isHarvestingInProgress(any())).thenReturn(false);
//
//        HarvesterService harvesterService = mock(HarvesterService.class);
//        NdcEventPublisher ndcEventPublisher = mock(NdcEventPublisher.class);
//        List<String> reposToHarvest = List.of("repo1");
//        HarvestRepositoryProcessor harvesterJob = new HarvestRepositoryProcessor(
//                harvesterService,
//                ndcEventPublisher,
//                reposToHarvest,
//                repositoryService,
//                harvesterRunService);
//
//        harvesterJob.execute(mock(StepContribution.class), mock(ChunkContext.class));
//
//        verify(harvesterService, times(1)).harvest(any(), any());
//        verify(harvesterService).harvest(asRepo("repo1"), null);
//    }

}
